import{r as m,f as C,a as g,g as f,h as N,P as i,d as y,j as e}from"./index-CNQcs3Zr.js";import{C as b,a as h,c as T,b as w,d as E}from"./cil-user-CEJpfGFl.js";import{u as I}from"./useAxios-B0wKfO91.js";/* empty css              */import{C as R,a as S,b as L,c as z}from"./CRow-4QI1T4FY.js";import{C as G,a as x}from"./CFormInput-CAotChmj.js";var p=m.forwardRef(function(s,c){var a,t=s.children,n=s.className,o=s.size,l=C(s,["children","className","size"]);return g.createElement("div",f({className:N("input-group",(a={},a["input-group-".concat(o)]=o,a),n)},l,{ref:c}),t)});p.propTypes={children:i.node,className:i.string,size:i.oneOf(["sm","lg"])};p.displayName="CInputGroup";var u=m.forwardRef(function(s,c){var a=s.children,t=s.as,n=t===void 0?"span":t,o=s.className,l=C(s,["children","as","className"]);return g.createElement(n,f({className:N("input-group-text",o)},l,{ref:c}),a)});u.propTypes={as:i.elementType,children:i.node,className:i.string};u.displayName="CInputGroupText";const V=()=>{const s=I(),c=y(r=>r.login),[a,t]=m.useState(!1),[n,o]=m.useState(""),[l,j]=m.useState(""),v=async r=>{r.preventDefault();try{const{data:d}=await s.post("/funcionario/login",{email:n,senha:l});console.log(d),c(d.token,d.user.roles)}catch(d){console.log(d),alert("Email ou Senha Invalido")}t(!0)};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(b,{children:e.jsx(R,{className:"justify-content-center",children:e.jsx(S,{md:4,children:e.jsx(L,{className:"p-4",children:e.jsx(z,{children:e.jsxs(G,{className:"needs-validation",noValidate:!0,validated:a,onSubmit:v,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"FaÃ§a login em sua conta"}),e.jsxs(p,{className:"mb-3",children:[e.jsx(u,{children:e.jsx(h,{icon:T})}),e.jsx(x,{placeholder:"Email",autoComplete:"email",value:n,onChange:r=>o(r.target.value),required:!0})]}),e.jsxs(p,{className:"mb-4",children:[e.jsx(u,{children:e.jsx(h,{icon:w})}),e.jsx(x,{type:"password",placeholder:"Senha",autoComplete:"current-password",value:l,onChange:r=>j(r.target.value),required:!0})]}),e.jsx(E,{color:"primary",className:"px-4 w-100",type:"submit",children:"ENTRAR"})]})})})})})})})};export{V as default};
