import{r as c,j as a}from"./index-Cq6n1oHN.js";import{u as b}from"./useAxios-ByT1FDPb.js";import{C as D,a as s,b as f,c as M}from"./CRow-DnB-vIkd.js";import{C as v}from"./CCardHeader-BJCWpj8f.js";import{C as g,a as d}from"./CFormInput-DIwC0Gim.js";import{d as y}from"./cil-user-C2qCqHmm.js";function S(){const m=b(),[o,x]=c.useState(""),[r,p]=c.useState(""),h=t=>{t.preventDefault();const i=o.split("-"),n=r.split("-");i.reverse(),n.reverse();const j=i.join("/"),u=n.join("/"),C={dataDaVisitaMin:j,dataDaVisitaMax:u};try{m.post("/geraPdf/listar-visitas",C,{responseType:"blob"}).then(e=>{const l=window.URL.createObjectURL(e.data);console.log(l),window.open(l,"_blank")}).catch(e=>{console.error("Erro ao gerar PDF:",e)})}catch(e){console.log(e)}};return a.jsx(D,{children:a.jsx(s,{children:a.jsxs(f,{className:"mb-4",children:[a.jsx(v,{children:"Relatorio"}),a.jsx(M,{children:a.jsxs(g,{className:"row",noValidate:!0,onSubmit:h,children:[a.jsx(s,{className:"col-6 mb-2",children:a.jsx(d,{label:"Data de Inicio",type:"date",value:o,onChange:t=>x(t.target.value)})}),a.jsx(s,{className:"col-6 mb-2",children:a.jsx(d,{label:"Data de Fim",type:"date",value:r,onChange:t=>p(t.target.value)})}),a.jsxs(s,{className:"col-12 mb-2",children:[a.jsx(y,{type:"submit",color:"primary",className:"me-1",children:"Gerar Relatorio"}),a.jsx("a",{className:"btn btn-primary",href:"https://pj3-backend.onrender.com/excel/listar-visitas",children:"Excel"})]})]})})]})})})}export{S as default};
