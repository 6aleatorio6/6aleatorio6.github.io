import{u as N,r,j as e}from"./index-Cq6n1oHN.js";import{u as y}from"./useAxios-ByT1FDPb.js";import{C as E,a as o,b as F,c as w}from"./CRow-DnB-vIkd.js";import{C as q}from"./CCardHeader-BJCWpj8f.js";import{C as A,a as s}from"./CFormInput-DIwC0Gim.js";import{C as D}from"./CFormSelect-DrcuJIU6.js";import{d as j}from"./cil-user-C2qCqHmm.js";function I(){const n=y(),l=N(),[i,c]=r.useState(""),[u,m]=r.useState("ADM"),[d,x]=r.useState(""),[h,p]=r.useState(""),[t,b]=r.useState(""),[f,v]=r.useState(""),C=window.location.pathname.split("/").pop();r.useEffect(()=>{n.get(`/funcionario/${C}`).then(({data:a})=>{c(a.funcionario.nome),m(a.funcionario.roles),x(a.funcionario.cpf),p(a.funcionario.email)})},[]);const g=async a=>{if(a.preventDefault(),t!==f){alert("As senhas não conferem");return}const S={nome:i,cpf:d,email:h,roles:u,senha:t};try{await n.put(`/funcionario/${C}`,S),alert("Funcionario editado com sucesso"),l("/funcionario")}catch(T){console.log(T),alert("Erro ao editar funcionario")}};return e.jsx(E,{children:e.jsx(o,{children:e.jsxs(F,{className:"mb-4",children:[e.jsx(q,{children:e.jsx("strong",{children:"Edição de Funcionario"})}),e.jsx(w,{children:e.jsxs(A,{className:"row mb-2",noValidate:!0,onSubmit:g,children:[e.jsx(o,{className:"col-6 mb-2",children:e.jsx(s,{type:"text",label:"Nome:",placeholder:"Nome",onChange:a=>c(a.target.value),value:i,required:!0})}),e.jsx(o,{className:"col-6 mb-2",children:e.jsx(D,{label:"Função:",onChange:a=>m(a.target.value),value:u,required:!0,options:[{label:"Administrador",value:"ADM"},{label:"Totem",value:"TOTEM"}]})}),e.jsx(o,{className:"col-6 mb-2",children:e.jsx(s,{type:"text",label:"CPF:",placeholder:"123.456.789-10",onChange:a=>x(a.target.value),value:d,required:!0})}),e.jsx(o,{className:"col-6 mb-2",children:e.jsx(s,{type:"email",label:"Email:",placeholder:"Email",onChange:a=>p(a.target.value),value:h,required:!0})}),e.jsx(o,{className:"col-6 mb-2",children:e.jsx(s,{type:"password",label:"Senha:",placeholder:"Senha",onChange:a=>b(a.target.value),value:t,required:!0})}),e.jsx(o,{className:"col-6 mb-2",children:e.jsx(s,{type:"password",label:"Confirme sua Senha:",placeholder:"Senha",onChange:a=>v(a.target.value),value:f,required:!0})}),e.jsxs(o,{className:"col-12",children:[e.jsx(j,{color:"secondary",size:"m",className:"me-2",onClick:()=>l("/funcionario"),children:"Cancelar"}),e.jsx(j,{type:"submit",color:"primary",size:"m",children:"Salvar"})]})]})})]})})})}export{I as default};
