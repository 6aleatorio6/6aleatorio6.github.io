import{u as m,r as c,q as f,j as a}from"./index-CNQcs3Zr.js";import{$ as r}from"./dataTables.bootstrap5-BLVKy1gs.js";import{u as x}from"./useAxios-B0wKfO91.js";import{d as s}from"./cil-user-CEJpfGFl.js";import{C,a as h,b as j,c as b}from"./CRow-4QI1T4FY.js";import{C as p}from"./CCardHeader-CFDEn6i7.js";function T(){const l=m(),e=c.useRef(null),o=x(),d=t=>{window.confirm("Deseja realmente excluir este Funcionario?")&&o.delete(`/funcionario/${t}`).then(()=>{alert("Funcionario excluido com sucesso"),window.location.reload()})};return c.useEffect(()=>(o.get("/funcionario").then(({data:t})=>{r.fn.DataTable.isDataTable(e.current)?r(e.current).DataTable().clear().rows.add(t.funcionario).draw():r(e.current).DataTable({data:t.funcionario,columns:[{data:"id",title:"#"},{data:"nome",title:"Nome"},{data:"email",title:"Email"},{data:"cpf",title:"CPF"},{data:"roles",title:"Função"},{data:"id",title:"Ações",createdCell:function(i,n,u,w,g){f(i).render(a.jsxs("div",{className:"d-flex",children:[a.jsx(s,{color:"primary",onClick:()=>l(`/funcionario/editar/${n}`),children:"Editar"}),a.jsx(s,{color:"secondary",onClick:()=>d(n),children:"Excluir"})]}))}}],createdRow:function(i,n,u){r(i).children("td").addClass("align-middle")}})}),()=>{r(e.current).DataTable().destroy()}),[]),a.jsx(C,{children:a.jsx(h,{children:a.jsxs(j,{className:"mb-4",children:[a.jsx(p,{children:a.jsx("strong",{children:"Funcionario"})}),a.jsxs(b,{children:[a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{children:"Lista de Funcionario"}),a.jsx(s,{color:"primary",onClick:()=>l("/funcionario/cadastro"),children:"Cadastrar"})]}),o.isLoading&&a.jsx("div",{children:"Carregando..."}),!o.isLoading&&a.jsx("table",{ref:e,className:"table table-striped table-hover align-items-center",style:{width:"100%"}})]})]})})})}export{T as default};
