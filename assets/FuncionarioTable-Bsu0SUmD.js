import{u as m,r as c,q as f,j as e}from"./index-Cq6n1oHN.js";import{$ as r}from"./dataTables.bootstrap5-Br_Xy2In.js";import{u as x}from"./useAxios-ByT1FDPb.js";import{d as s}from"./cil-user-C2qCqHmm.js";import{C,a as h,b as j,c as b}from"./CRow-DnB-vIkd.js";import{C as p}from"./CCardHeader-BJCWpj8f.js";function T(){const l=m(),a=c.useRef(null),t=x(),d=o=>{window.confirm("Deseja realmente excluir este Funcionario?")&&t.delete(`/funcionario/${o}`).then(()=>{alert("Funcionario excluido com sucesso"),window.location.reload()})};return c.useEffect(()=>(t.get("/funcionario").then(({data:o})=>{r.fn.DataTable.isDataTable(a.current)?r(a.current).DataTable().clear().rows.add(o.funcionario).draw():r(a.current).DataTable({data:o.funcionario,columns:[{data:"id",title:"#"},{data:"nome",title:"Nome"},{data:"email",title:"Email"},{data:"cpf",title:"CPF"},{data:"roles",title:"Função"},{data:"id",title:"Ações",createdCell:function(i,n,u,w,g){f(i).render(e.jsxs("div",{className:"d-flex",children:[e.jsx(s,{color:"primary",onClick:()=>l(`/funcionario/editar/${n}`),children:"Editar"}),e.jsx(s,{color:"secondary",onClick:()=>d(n),children:"Excluir"})]}))}}],createdRow:function(i,n,u){r(i).children("td").addClass("align-middle")}})}),()=>{r(a.current).DataTable().destroy()}),[]),e.jsx(C,{children:e.jsx(h,{children:e.jsxs(j,{className:"mb-4",children:[e.jsx(p,{children:e.jsx("strong",{children:"Funcionario"})}),e.jsxs(b,{children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{children:"Lista de Funcionario"}),e.jsx(s,{color:"primary",onClick:()=>l("/funcionario/cadastro"),children:"Cadastrar"})]}),t.isLoading&&e.jsx("div",{children:"Carregando..."}),e.jsx("table",{ref:a,className:"table table-striped table-hover align-items-center",style:{width:"100%"}})]})]})})})}export{T as default};
