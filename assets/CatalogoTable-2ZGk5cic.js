import{u,r as c,q as x,j as e}from"./index-CNQcs3Zr.js";import{$ as r}from"./dataTables.bootstrap5-BLVKy1gs.js";import{u as f,g}from"./useAxios-B0wKfO91.js";import{d as l}from"./cil-user-CEJpfGFl.js";import{C as h,a as p,b as C,c as j}from"./CRow-4QI1T4FY.js";import{C as b}from"./CCardHeader-CFDEn6i7.js";function k(){const n=u(),a=c.useRef(null),o=f(),d=s=>{window.confirm("Deseja realmente excluir esta especie?")&&o.delete(`/catalogo/${s}`).then(()=>{alert("Especie excluida com sucesso"),window.location.reload()})};return c.useEffect(()=>(o.get("/catalogo").then(({data:s})=>{r.fn.DataTable.isDataTable(a.current)?r(a.current).DataTable().clear().rows.add(s.cata).draw():r(a.current).DataTable({data:s.cata,columns:[{data:"ftModel",title:"Foto",render:function(t){return`<img src=${g(t)} alt="Imagem" style="width: 50px; height: 50px; margin-right: 5px;" />`}},{data:"nomeCientifico",title:"Nome Cientifico"},{data:"nomePopular",title:"Nome Popular"},{data:"especie",title:"Espécie"},{data:"uuid",title:"Ações",createdCell:function(t,i,m,w,y){x(t).render(e.jsxs("div",{className:"d-flex",children:[e.jsx(l,{color:"primary",style:{marginRight:"10px"},onClick:()=>n(`/catalogo/editar/${i}`),children:"Editar"}),e.jsx(l,{color:"secondary",onClick:()=>d(i),children:"Excluir"})]}))}}],createdRow:function(t,i,m){r(t).children("td").addClass("align-middle")}})}),()=>{r(a.current).DataTable().destroy()}),[]),e.jsx(h,{children:e.jsx(p,{children:e.jsxs(C,{className:"mb-4",children:[e.jsx(b,{children:e.jsx("strong",{children:"Catalogo"})}),e.jsxs(j,{children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{children:"Lista de Especies"}),e.jsx(l,{color:"primary",onClick:()=>n("/catalogo/cadastro"),children:"Cadastrar"})]}),o.isLoading&&e.jsx("div",{children:"Carregando..."}),!o.isLoading&&e.jsx("table",{ref:a,className:"table table-striped table-hover align-items-center",style:{width:"100%"}})]})]})})})}export{k as default};
